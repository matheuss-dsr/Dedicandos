<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visualizar Prova - <%= prova ? prova.titulo : 'Prova' %></title>
  <link rel="shortcut icon" href="/static/images/logo.png" type="image/x-icon">
  <link rel="stylesheet" href="/static/css/visualizar_prova.css">
</head>
<body>
  <div class="container">
    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <% if (prova) { %>
      <div class="prova-info">
        <h1><%= prova.titulo %></h1>
        <p><strong>Disciplina:</strong> <%= prova.disciplina %></p>
        <p><strong>Ano:</strong> <%= prova.ano %></p>
        <p><strong>Quantidade de Questões:</strong> <%= prova.quantidade_questoes %></p>
      </div>

      <% questoesDetalhes.forEach(function(questao, index) { %>
        <div class="questao">
          <div class="questao-title">Questão <%= index + 1 %>: <%= questao.title %></div>
          <div class="enunciado"><%- questao.enunciado %></div>

          <% if (questao.imageHTML) { %>
            <div class="imagem-questao"><%- questao.imageHTML %></div>
          <% } %>

          <div class="alternativas">
            <% questao.alternativas.forEach(function(alt) { 
              const classe = alt.letra === questao.alternativaCorreta ? 'alternativa correta' : 'alternativa incorreta';
            %>
              <div class="<%= classe %>">
                <strong><%= alt.letra %></strong>: <%= alt.texto %>
              </div>
            <% }) %>
          </div>
        </div>
      <% }) %>
    <% } %>

    <a href="/prova/gerar/form" class="voltar">Voltar para a lista de provas</a>
  </div>
</body>
</html>
